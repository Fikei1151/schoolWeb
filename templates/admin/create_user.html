{% extends 'layout.html' %}
{% block title %}สร้างผู้ใช้ (Admin){% endblock %}
{% block content %}
<div class="container max-w-lg mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-10">
    <div class="bg-white rounded-2xl shadow-xl p-4 sm:p-6 border border-pink-200">
        <h2 class="text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-pink-600 drop-shadow-md">
            สร้างผู้ใช้ (เฉพาะ Admin)
        </h2>
        <form method="POST" class="space-y-6">
            <!-- Citizen ID -->
            <div>
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">รหัสประจำตัว (13 หลัก)</label>
                <input type="text" name="citizen_id" maxlength="13" pattern="\d{13}" 
                       title="กรุณากรอกเลข 13 หลัก" 
                       class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base" required>
            </div>
            <!-- Password -->
            <div>
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">รหัสผ่าน</label>
                <input type="password" name="password" 
                       class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base" required>
            </div>
            <!-- First Name -->
            <div>
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">ชื่อ</label>
                <input type="text" name="first_name" 
                       class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base" required>
            </div>
            <!-- Last Name -->
            <div>
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">นามสกุล</label>
                <input type="text" name="last_name" 
                       class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base" required>
            </div>
            <!-- Gender -->
            <div>
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">เพศ</label>
                <select name="gender" 
                        class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base">
                    <option value="male">ชาย</option>
                    <option value="female">หญิง</option>
                </select>
            </div>
            <!-- Role -->
            <div>
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">บทบาท (Role)</label>
                <select name="role" id="role-select" 
                        class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base" 
                        onchange="toggleEducationLevel()">
                    <option value="admin">Admin</option>
                    <option value="teacher">Teacher</option>
                    <option value="student">Student</option>
                </select>
            </div>
            <!-- Education Level -->
            <div class="hidden" id="education-level-field">
                <label class="block mb-2 font-semibold text-gray-700 text-sm sm:text-base">ระดับการศึกษา</label>
                <select name="education_level" 
                        class="w-full border border-pink-300 px-4 py-2 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-pink-400 shadow-sm text-sm sm:text-base">
                    <option value="primary">ประถมศึกษา (Primary)</option>
                    <option value="secondary">มัธยมศึกษา (Secondary)</option>
                </select>
            </div>
            <!-- Submit Button -->
            <button type="submit" 
                    class="w-full bg-pink-600 text-white px-6 py-3 rounded-full hover:bg-pink-700 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg text-sm sm:text-base">
                สร้างผู้ใช้
            </button>
        </form>
    </div>
</div>

<script>
function toggleEducationLevel() {
    const roleSelect = document.getElementById('role-select');
    const educationLevelField = document.getElementById('education-level-field');
    educationLevelField.classList.toggle('hidden', roleSelect.value !== 'student');
}
</script>
{% endblock %}